{"version":3,"file":"js/896.dfb3d238.js","mappings":"4JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,aAAa,CAAGJ,EAAIK,UAA6DL,EAAIM,KAAtDJ,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQP,EAAIQ,eAAyBR,EAAIK,UAAWH,EAAG,MAAM,CAACE,YAAY,cAAcG,MAAM,CAAC,IAAME,EAAQ,SAA0BT,EAAIM,MAAM,EACpS,EACII,EAAkB,GCFlBX,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAaJ,EAAIW,GAAIX,EAAIY,OAAO,SAASC,GAAU,OAAOX,EAAG,eAAe,CAACY,IAAID,EAASE,IAAIR,MAAM,CAAC,KAAOM,IAAW,IAAG,EACnN,EACIH,EAAkB,GCFlBX,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAQF,EAAIgB,KAAMd,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,cAAc,CAACK,MAAM,CAAC,KAAOP,EAAIiB,KAAK,KAAOjB,EAAIgB,QAAQd,EAAG,MAAM,CAACE,YAAY,mBAAmBG,MAAM,CAAC,IAAMP,EAAIiB,KAAKC,OAAO,IAAO,YAAWlB,EAAIiB,KAAKE,GAAGC,WAAW,QAAU,UAAUlB,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,eAAe,CAACK,MAAM,CAAC,KAAOP,EAAIiB,KAAK,KAAOjB,EAAIgB,QAAQd,EAAG,aAAa,CAACK,MAAM,CAAC,KAAOP,EAAIiB,QAAQf,EAAG,cAAc,CAACK,MAAM,CAAC,KAAOP,EAAIiB,QAASjB,EAAIqB,qBAAuB,EAAGnB,EAAG,SAAS,CAACE,YAAY,oBAAoBkB,GAAG,CAAC,MAAQ,SAASC,GAAQvB,EAAIwB,mBAAqBxB,EAAIwB,iBAAiB,IAAI,CAACxB,EAAIyB,GAAG,SAASzB,EAAI0B,GAAG1B,EAAI2B,cAAc,IAAI3B,EAAI0B,GAAG1B,EAAIqB,sBAAsB,gBAAgBrB,EAAIM,KAAKJ,EAAG,gBAAgB,CAACK,MAAM,CAAC,SAAWP,EAAI4B,eAAe,KAAO5B,EAAIiB,KAAK,KAAOjB,EAAIgB,SAAS,GAAGd,EAAG,cAAc,CAACK,MAAM,CAAC,KAAOP,EAAIiB,KAAK,WAAajB,EAAI6B,MAAM,KAAO7B,EAAIgB,SAAS,GAAGhB,EAAIM,IACr7B,EACII,EAAkB,G,sECwBtB,GACAoB,KAAAA,eACAC,MAAAA,CAAAA,QACAC,OACA,OACAC,cAAAA,EACAT,mBAAAA,EACAR,KAAAA,KACAkB,aAAAA,CAAAC,QAAAA,GAAAC,UAAAA,KAAAA,OAEA,EACAC,SAAAA,CACAC,sBACA,qDACA,EACAV,iBACA,4DACA,gFAEA,kBAEA,EACAP,uBACA,kCACA,EACAM,eACA,0CACA,EACAY,iBACA,2BACA,GAEAC,QAAAA,CACAC,aACA,sBACA,EACAC,aACA,sDACA,sBACAC,KAAAA,aACAC,QAAAA,EACAC,OAAAA,KAAAA,KAAAA,IACA7B,KAAAA,KAAAA,OAEA,mBAAAmB,QAAAA,GACA,GAEA,gBACA,sDACA,WACA,EACAW,WAAAA,CACAC,WAAAA,EAAAA,EACAC,aAAAA,EAAAA,EACAC,UAAAA,EAAAA,EACAP,WAAAA,EAAAA,EACAQ,YAAAA,EAAAA,EACAC,WAAAA,EAAAA,ICnF4P,I,UCOxPC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,QCThC,GACAtB,KAAAA,YACAC,MAAAA,CAAAA,SACAe,WAAAA,CACAO,YAAAA,ICbyP,ICOrP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,QCRhC,GACAvB,KAAAA,eACAO,SAAAA,CACAhC,YACA,oCACA,EACAG,cACA,mCACA,GAEAgC,QAAAA,CACAc,YACA,sBACAX,KAAAA,aAEA,GAEAY,UACA,gBACA,EACAT,WAAAA,CACAU,SAAAA,IC/B4P,ICOxP,GAAY,OACd,EACAzD,EACAW,GACA,EACA,KACA,KACA,MAIF,EAAe,EAAiB,O","sources":["webpack://instayul/./src/views/instayul-app.vue","webpack://instayul/./src/cmps/post-list.vue","webpack://instayul/./src/cmps/post-details.vue","webpack://instayul/src/cmps/post-details.vue","webpack://instayul/./src/cmps/post-details.vue?6a7e","webpack://instayul/./src/cmps/post-details.vue?4309","webpack://instayul/src/cmps/post-list.vue","webpack://instayul/./src/cmps/post-list.vue?42f1","webpack://instayul/./src/cmps/post-list.vue?fa14","webpack://instayul/src/views/instayul-app.vue","webpack://instayul/./src/views/instayul-app.vue?e9d7","webpack://instayul/./src/views/instayul-app.vue?ada2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"home-page\"},[(!_vm.isLoading)?_c('post-list',{attrs:{\"posts\":_vm.postsToShow}}):_vm._e(),(_vm.isLoading)?_c('img',{staticClass:\"main-loader\",attrs:{\"src\":require(\"@/assets/loader.svg\")}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"post-list\"},_vm._l((_vm.posts),function(currPost){return _c('post-details',{key:currPost._id,attrs:{\"post\":currPost}})}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.user)?_c('div',{staticClass:\"post-details\"},[_c('post-header',{attrs:{\"post\":_vm.post,\"user\":_vm.user}}),_c('img',{staticClass:\"post-details-img\",attrs:{\"src\":_vm.post.imgUrl,\"alt\":`Photo by ${_vm.post.by.userName}`,\"loading\":\"lazy\"}}),_c('div',{staticClass:\"post-details-content\"},[_c('post-actions',{attrs:{\"post\":_vm.post,\"user\":_vm.user}}),_c('post-likes',{attrs:{\"post\":_vm.post}}),_c('post-author',{attrs:{\"post\":_vm.post}}),(_vm.slicedCommentsLength > 0)?_c('button',{staticClass:\"show-comments-btn\",on:{\"click\":function($event){_vm.isShowAllComments = !_vm.isShowAllComments}}},[_vm._v(\" View \"+_vm._s(_vm.showMoreLess)+\" \"+_vm._s(_vm.slicedCommentsLength)+\" comments \")]):_vm._e(),_c('post-comments',{attrs:{\"comments\":_vm.commentsToShow,\"post\":_vm.post,\"user\":_vm.user}})],1),_c('add-comment',{attrs:{\"post\":_vm.post,\"parentRefs\":_vm.$refs,\"user\":_vm.user}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"post-details\" v-if=\"user\">\r\n    <post-header :post=\"post\" :user=\"user\"></post-header>\r\n    <img class=\"post-details-img\" :src=\"post.imgUrl\" :alt=\"`Photo by ${post.by.userName}`\" loading=\"lazy\" />\r\n    <div class=\"post-details-content\">\r\n      <post-actions :post=\"post\" :user=\"user\"></post-actions>\r\n      <post-likes :post=\"post\"></post-likes>\r\n      <post-author :post=\"post\"></post-author>\r\n      <button class=\"show-comments-btn\" v-if=\"slicedCommentsLength > 0\" @click=\"isShowAllComments = !isShowAllComments\">\r\n        View {{ showMoreLess }} {{ slicedCommentsLength }} comments\r\n      </button>\r\n      <post-comments :comments=\"commentsToShow\" :post=\"post\" :user=\"user\"></post-comments>\r\n    </div>\r\n    <add-comment :post=\"post\" :parentRefs=\"$refs\" :user=\"user\"></add-comment>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userService from \"@/services/user-service\";\r\nimport postHeader from \"@/cmps/post-header\";\r\nimport postComments from \"@/cmps/post-comments\";\r\nimport postLikes from \"@/cmps/post-likes\";\r\nimport addComment from \"@/cmps/add-comment\";\r\nimport postActions from \"@/cmps/post-actions\";\r\nimport postAuthor from \"@/cmps/post-author\";\r\n\r\nexport default {\r\n  name: \"post-details\",\r\n  props: [\"post\"],\r\n  data() {\r\n    return {\r\n      isShownModal: false,\r\n      isShowAllComments: false,\r\n      user: null,\r\n      commentToAdd: { content: \"\", createdAt: Date.now() },\r\n    };\r\n  },\r\n  computed: {\r\n    getCommentCreatedAt() {\r\n      return moment(this.post.comments.createdAt).fromNow();\r\n    },\r\n    commentsToShow() {\r\n      if (this.post.comments.length > 2 && !this.isShowAllComments) {\r\n        return this.post.comments.slice(this.post.comments.length - 2, this.post.comments.length);\r\n      } else {\r\n        return this.post.comments;\r\n      }\r\n    },\r\n    slicedCommentsLength() {\r\n      return this.post.comments.length - 2;\r\n    },\r\n    showMoreLess() {\r\n      return !this.isShowAllComments ? \"all\" : \"less\";\r\n    },\r\n    isByLoggedUser() {\r\n      return (commentById) => commentById === this.user._id;\r\n    },\r\n  },\r\n  methods: {\r\n    closeModal() {\r\n      this.isShownModal = null;\r\n    },\r\n    addComment() {\r\n      const commentCopy = JSON.parse(JSON.stringify(this.commentToAdd));\r\n      this.$store.dispatch({\r\n        type: \"addComment\",\r\n        comment: commentCopy,\r\n        postId: this.post._id,\r\n        user: this.user,\r\n      });\r\n      this.commentToAdd = { content: \"\" };\r\n    },\r\n  },\r\n  async created() {\r\n    const user = await userService.getById(\"5fc5fd32768787be41a9a627\");\r\n    this.user = user;\r\n  },\r\n  components: {\r\n    postHeader,\r\n    postComments,\r\n    postLikes,\r\n    addComment,\r\n    postActions,\r\n    postAuthor\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post-details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post-details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./post-details.vue?vue&type=template&id=7a0ca73c&\"\nimport script from \"./post-details.vue?vue&type=script&lang=js&\"\nexport * from \"./post-details.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"post-list\">\r\n    <post-details v-for=\"currPost in posts\" :post=\"currPost\" :key=\"currPost._id\"></post-details>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport postDetails from './post-details.vue'\r\n\r\nexport default {\r\n  name: 'post-list',\r\n  props: ['posts'],\r\n  components:{\r\n    postDetails\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./post-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./post-list.vue?vue&type=template&id=822486b6&\"\nimport script from \"./post-list.vue?vue&type=script&lang=js&\"\nexport * from \"./post-list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"home-page\">\n    <post-list v-if=\"!isLoading\" :posts=\"postsToShow\" />\n    <img v-if=\"isLoading\" class=\"main-loader\" src=\"@/assets/loader.svg\" />\n  </section>\n</template>\n\n<script>\nimport postList from '@/cmps/post-list.vue';\n\nexport default {\n  name: 'instayul-app',\n  computed: {\n    isLoading() {\n      return this.$store.getters.isLoading;\n    },\n    postsToShow() {\n      return this.$store.getters.getPosts;\n    },\n  },\n  methods: {\n    loadPosts() {\n      this.$store.dispatch({\n        type: 'loadPosts'\n      })\n    },\n  },\n  created() {\n    this.loadPosts();\n  },\n  components: {\n    postList,\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./instayul-app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./instayul-app.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./instayul-app.vue?vue&type=template&id=3a923e46&\"\nimport script from \"./instayul-app.vue?vue&type=script&lang=js&\"\nexport * from \"./instayul-app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","isLoading","_e","attrs","postsToShow","require","staticRenderFns","_l","posts","currPost","key","_id","user","post","imgUrl","by","userName","slicedCommentsLength","on","$event","isShowAllComments","_v","_s","showMoreLess","commentsToShow","$refs","name","props","data","isShownModal","commentToAdd","content","createdAt","computed","getCommentCreatedAt","isByLoggedUser","methods","closeModal","addComment","type","comment","postId","components","postHeader","postComments","postLikes","postActions","postAuthor","component","postDetails","loadPosts","created","postList"],"sourceRoot":""}